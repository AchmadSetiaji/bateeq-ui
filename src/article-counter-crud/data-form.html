<template>
    <form class="form-horizontal">
        <div class="form-group ${error.code?'has-error':''}">
            <label for="code" class="col-sm-2 control-label">Code</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" name="code" value.bind="data.code" />
                <span class="help-block">${error.code}</span>
            </div>
        </div>
        <div class="form-group ${error.name?'has-error':''}">
            <label for="code" class="col-sm-2 control-label">Name</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" name="name" value.bind="data.name" />
                <span class="help-block">${error.name}</span>
            </div>
        </div>
        <div class="form-group ${error.description?'has-error':''}">
            <label for="description" class="col-sm-2 control-label">Description</label>
            <div class="col-sm-10">
                <textarea class="form-control" name="description" value.bind="data.description"></textarea>
                <span class="help-block">${error.description}</span>
            </div>
        </div>
    </form>
    <hr/>
    <h3>Sub-Counters</h3>
    <table class="table">
        <thead>
            <tr>
                <th>No.</th>
                <th>Code</th>
                <th>Name</th>
                <th>Description</th>
                <th><button click.delegate="addItem()" class="btn btn-success btn-sm pull-right">Add Item</button></th>
            </tr>
        </thead>
        <tbody>
            <tr repeat.for="item of data.subCounters">
                <td>
                    ${$index+1}
                </td>
                <td>
                    <div class="form-group ${error.subCounters[$index].code?'has-error':''}">
                        <input type="text" class="form-control" value.bind="item.code" />
                        <span class="help-block">${error.subCounters[$index].code}</span>
                    </div>
                </td>
                <td>
                    <div class="form-group ${error.subCounters[$index].name?'has-error':''}">
                    <input type="text" class="form-control" value.bind="item.name" />
                        <span class="help-block">${error.subCounters[$index].name}</span>
                    </div>
                </td>
                <td>
                    <input type="text" class="form-control" value.bind="item.description" />
                </td>
                <td><button click.delegate="removeItem(item)" class="btn btn-danger btn-sm pull-right">Remove</button></td>
            </tr>
        </tbody>
    </table>
    <div class="alert alert-info text-center" role="alert" if.bind="data.subCounters.length == 0">
        This counter does not have any sub-counter yet.
    </div>
</template>